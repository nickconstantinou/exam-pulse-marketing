<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ExamPulse | AI-Powered GCSE Revision</title>
  <meta name="description" content="AI that adapts to YOUR exam board. Stop wasting time on revision that doesn't work.">
  
  <!-- Preconnect for performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&family=Space+Grotesk:wght@500;700&display=swap" rel="stylesheet">
  
  <style>
    :root {
      --primary: #0F172A;
      --accent: #F97316;
      --accent-hover: #EA580C;
      --bg: #FFFFFF;
      --bg-alt: #F8FAFC;
      --text: #1E293B;
      --text-muted: #64748B;
      --border: #E2E8F0;
      --glass: rgba(255,255,255,0.7);
    }
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: 'Inter', sans-serif; background: var(--bg); color: var(--text); line-height: 1.6; }
    h1, h2, h3, h4 { font-family: 'Space Grotesk', sans-serif; font-weight: 700; line-height: 1.2; }
    .container { max-width: 1100px; margin: 0 auto; padding: 0 24px; }
    
    /* Header */
    header { padding: 20px 0; border-bottom: 1px solid var(--border); position: sticky; top: 0; background: var(--glass); backdrop-filter: blur(10px); z-index: 100; }
    header .container { display: flex; justify-content: space-between; align-items: center; }
    .logo { font-family: 'Space Grotesk', sans-serif; font-size: 24px; font-weight: 700; color: var(--primary); text-decoration: none; }
    .logo span { color: var(--accent); }
    nav a { margin-left: 24px; color: var(--text-muted); text-decoration: none; font-size: 14px; }
    nav a:hover { color: var(--primary); }
    
    /* Hero */
    .hero { padding: 80px 0; text-align: center; background: linear-gradient(180deg, var(--bg-alt) 0%, var(--bg) 100%); }
    .hero h1 { font-size: 56px; margin-bottom: 20px; color: var(--primary); }
    .hero h1 span { color: var(--accent); }
    .hero p { font-size: 20px; color: var(--text-muted); max-width: 600px; margin: 0 auto 32px; }
    .hero-cta { display: inline-block; background: var(--accent); color: white; font-family: 'Space Grotesk', sans-serif; font-size: 18px; font-weight: 600; padding: 16px 32px; border-radius: 8px; text-decoration: none; transition: all 0.2s; }
    .hero-cta:hover { background: var(--accent-hover); transform: translateY(-2px); }
    .hero-stats { display: flex; justify-content: center; gap: 48px; margin-top: 48px; }
    .stat { text-align: center; }
    .stat-value { font-family: 'Space Grotesk', sans-serif; font-size: 32px; font-weight: 700; color: var(--primary); }
    .stat-label { font-size: 14px; color: var(--text-muted); }
    
    /* Features */
    .features { padding: 80px 0; background: var(--bg-alt); }
    .features h2 { font-size: 36px; text-align: center; margin-bottom: 48px; color: var(--primary); }
    .features-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; }
    .feature-card { background: white; padding: 32px; border-radius: 12px; border: 1px solid var(--border); }
    .feature-card h3 { font-size: 20px; margin-bottom: 12px; color: var(--primary); }
    .feature-card p { font-size: 14px; color: var(--text-muted); }
    .feature-icon { font-size: 40px; margin-bottom: 16px; }
    
    /* Lead Magnet Section - A/B Tested */
    .lead-magnet { padding: 80px 0; background: var(--primary); color: white; }
    .lead-magnet h2 { font-size: 36px; text-align: center; margin-bottom: 16px; }
    .lead-magnet .subtitle { text-align: center; color: rgba(255,255,255,0.7); margin-bottom: 32px; font-size: 18px; }
    .lead-magnet-card { background: white; border-radius: 16px; padding: 32px; max-width: 500px; margin: 0 auto; color: var(--text); }
    .lead-magnet-card h3 { font-size: 24px; margin-bottom: 8px; }
    .lead-magnet-card p { font-size: 14px; color: var(--text-muted); margin-bottom: 20px; }
    .lead-magnet-card input { width: 100%; padding: 14px 16px; border: 2px solid var(--border); border-radius: 8px; font-size: 16px; margin-bottom: 12px; }
    .lead-magnet-card input:focus { outline: none; border-color: var(--accent); }
    .lead-magnet-card button { width: 100%; background: var(--accent); color: white; font-family: 'Space Grotesk', sans-serif; font-size: 16px; font-weight: 600; padding: 14px; border: none; border-radius: 8px; cursor: pointer; transition: all 0.2s; }
    .lead-magnet-card button:hover { background: var(--accent-hover); }
    .ab-badge { display: inline-block; background: var(--bg-alt); padding: 4px 10px; border-radius: 4px; font-size: 11px; color: var(--text-muted); margin-bottom: 16px; }
    
    /* Social Proof */
    .social-proof { padding: 60px 0; text-align: center; }
    .social-proof h2 { font-size: 28px; margin-bottom: 32px; color: var(--primary); }
    .comparison { display: flex; justify-content: center; gap: 24px; flex-wrap: wrap; }
    .compare-card { background: white; border: 2px solid var(--border); border-radius: 12px; padding: 24px; width: 280px; }
    .compare-card.winner { border-color: var(--accent); position: relative; }
    .compare-card.winner::after { content: '‚úì'; position: absolute; top: -12px; right: -12px; background: var(--accent); color: white; width: 24px; height: 24px; border-radius: 50%; font-size: 14px; display: flex; align-items: center; justify-content: center; }
    .compare-card h4 { font-size: 18px; margin-bottom: 8px; }
    .compare-card p { font-size: 13px; color: var(--text-muted); }
    .compare-card .price { font-size: 24px; font-weight: 700; margin: 12px 0; color: var(--primary); }
    
    /* CTA */
    .cta { padding: 80px 0; text-align: center; background: var(--bg-alt); }
    .cta h2 { font-size: 40px; margin-bottom: 16px; color: var(--primary); }
    .cta p { font-size: 18px; color: var(--text-muted); margin-bottom: 32px; }
    
    /* Footer */
    footer { padding: 32px 0; border-top: 1px solid var(--border); text-align: center; }
    footer p { font-size: 14px; color: var(--text-muted); }
    
    /* Responsive */
    @media (max-width: 768px) {
      .hero h1 { font-size: 36px; }
      .hero-stats { flex-direction: column; gap: 24px; }
      .comparison { flex-direction: column; align-items: center; }
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <a href="index.html" class="logo">Exam<span>Pulse</span></a>
      <nav>
        <a href="#features">Features</a>
        <a href="#pricing">Pricing</a>
        <a href="blog.html">Blog</a>
      </nav>
    </div>
  </header>

  <section class="hero">
    <div class="container">
      <h1>Your GCSE Revision Is<br><span>Broken</span></h1>
      <p>ChatGPT gives you wrong answers. Past papers don't tell you what to focus on. ExamPulse adapts to YOUR exam board and targets YOUR gaps.</p>
      <a href="#" class="hero-cta" id="heroCta">Find Your Weaknesses ‚Üí</a>
      <div class="hero-stats">
        <div class="stat">
          <div class="stat-value">AQA, OCR, Edexcel</div>
          <div class="stat-label">All UK Exam Boards</div>
        </div>
        <div class="stat">
          <div class="stat-value">AI-Powered</div>
          <div class="stat-label">Adapts to Your Level</div>
        </div>
        <div class="stat">
          <div class="stat-value">Free</div>
          <div class="stat-label">To Start</div>
        </div>
      </div>
    </div>
  </section>

  <section class="features" id="features">
    <div class="container">
      <h2>Why ExamPulse Works</h2>
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üéØ</div>
          <h3>Know Your Gaps</h3>
          <p>Our AI identifies exactly what you don't know based on your exam board's syllabus.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">üß†</div>
          <h3>Spaced Repetition</h3>
          <p>Algorithms show you topics at the right time to maximize long-term retention.</p>
        </div>
        <div class="feature-card">
          <div class="feature-icon">‚úì</div>
          <h3>Verified Content</h3>
          <p>Every answer checked against official exam board specifications. No hallucinations.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- A/B Tested Lead Magnet -->
  <section class="lead-magnet">
    <div class="container">
      <h2 id="lmTitle">Take the Quiz</h2>
      <p class="subtitle" id="lmSubtitle">Find out your revision type in 2 minutes</p>
      <div class="lead-magnet-card">
        <span class="ab-badge" id="abBadge">Quiz</span>
        <h3 id="lmCardTitle">What's Your Revision Style?</h3>
        <p id="lmCardDesc">Answer 5 questions to discover how you learn best and get a personalized study plan.</p>
        <form id="leadForm" onsubmit="handleLeadSubmit(event)">
          <input type="email" id="leadEmail" placeholder="Your email" required>
          <button type="submit" id="lmBtn">Get My Results ‚Üí</button>
        </form>
        <p style="font-size: 12px; color: var(--text-muted); margin-top: 12px; text-align: center;" id="lmPrivacy">No spam. Unsubscribe anytime.</p>
      </div>
    </div>
  </section>

  <section class="social-proof" id="pricing">
    <div class="container">
      <h2>How We Compare</h2>
      <div class="comparison">
        <div class="compare-card">
          <h4>ChatGPT</h4>
          <p>AI chatbot - gives wrong answers on specific exam topics</p>
          <div class="price">Free</div>
          <p>‚ùå Not exam-specific</p>
        </div>
        <div class="compare-card">
          <h4>Quizlet</h4>
          <p>User-generated flashcards - not verified for accuracy</p>
          <div class="price">$12/mo</div>
          <p>‚ö†Ô∏è Variable quality</p>
        </div>
        <div class="compare-card winner">
          <h4>ExamPulse</h4>
          <p>AI that knows YOUR exam board syllabus</p>
          <div class="price">Free</div>
          <p>‚úÖ Verified content</p>
        </div>
      </div>
    </div>
  </section>

  <section class="cta">
    <div class="container">
      <h2>Ready to Work Smarter?</h2>
      <p>Join students getting better grades with less stress.</p>
      <a href="#" class="hero-cta">Start Free ‚Üí</a>
    </div>
  </section>

  <footer>
    <div class="container">
      <p>ExamPulse ‚Äî AI-powered GCSE revision</p>
    </div>
  </footer>

  <!-- PostHog Analytics -->
  <script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}p=t.createElement("script"),p.type="text/javascript",p.src="https://app.posthog.com/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:e="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==e&&(e+="."+t),u[e]||(u[e]=function(){u[e].q||(u[e].q=[]),u[e].q.push(arguments)}),u[e]},u.people.toString=function(){return u.people.join("-")},o="capture identify alias setConfig segment".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    
    posthog.init('phc_IdAZHvksJADiN0p8Cm7H73jh5NT6oQaoYfUgaPPRB28', {
      api_host: 'https://app.posthog.com',
      autocapture: true
    });
  </script>

  <script>
    // ============================================
    // A/B Testing & Analytics System
    // ============================================
    
    const ANALYTICS_KEY = 'examPulse_analytics';
    const AB_TEST_KEY = 'examPulse_ab_variant';
    
    // Lead magnet variants for A/B testing
    const leadMagnets = [
      {
        id: 'quiz',
        title: 'Take the Quiz',
        subtitle: 'Find out your revision type in 2 minutes',
        cardTitle: "What's Your Revision Style?",
        cardDesc: 'Answer 5 questions to discover how you learn best and get a personalized study plan.',
        badge: 'Quiz',
        btn: 'Get My Results ‚Üí',
        privacy: 'No spam. Unsubscribe anytime.'
      },
      {
        id: 'grade-calc',
        title: 'Calculate Your Path',
        subtitle: 'See what you need for your target grade',
        cardTitle: 'GCSE Grade Calculator',
        cardDesc: 'Find out exactly what grades you need in your remaining exams to hit your target.',
        badge: 'Calculator',
        btn: 'Calculate My Grade ‚Üí',
        privacy: 'No spam. Totally free.'
      },
      {
        id: 'gap-diagnostic',
        title: 'Find Your Gaps',
        subtitle: 'Get a personalized gap analysis',
        cardTitle: 'GCSE Gap Diagnostic',
        cardDesc: 'In 2 minutes, discover exactly which topics are costing you marks.',
        badge: 'Gap Analysis',
        btn: 'Find My Gaps ‚Üí',
        privacy: 'No spam. Instant results.'
      }
    ];
    
    // Get or assign A/B variant
    function getVariant() {
      let variant = localStorage.getItem(AB_TEST_KEY);
      if (!variant) {
        // Randomly assign variant (weighted: quiz gets more traffic initially)
        const rand = Math.random();
        if (rand < 0.5) variant = 'quiz';
        else if (rand < 0.75) variant = 'grade-calc';
        else variant = 'gap-diagnostic';
        localStorage.setItem(AB_TEST_KEY, variant);
      }
      return variant;
    }
    
    // Apply variant to page
    function applyVariant() {
      const variant = getVariant();
      const config = leadMagnets.find(m => m.id === variant) || leadMagnets[0];
      
      document.getElementById('lmTitle').textContent = config.title;
      document.getElementById('lmSubtitle').textContent = config.subtitle;
      document.getElementById('lmCardTitle').textContent = config.cardTitle;
      document.getElementById('lmCardDesc').textContent = config.cardDesc;
      document.getElementById('abBadge').textContent = config.badge;
      document.getElementById('lmBtn').textContent = config.btn;
      document.getElementById('lmPrivacy').textContent = config.privacy;
      
      // Track impression
      trackEvent('lead_magnet_impression', { variant });
      
      return config;
    }
    
    // Analytics tracking
    function trackEvent(eventName, data = {}) {
      // Store locally
      const analytics = JSON.parse(localStorage.getItem(ANALYTICS_KEY) || '{}');
      
      if (!analytics.events) analytics.events = [];
      analytics.events.push({
        name: eventName,
        data,
        timestamp: new Date().toISOString(),
        url: window.location.href
      });
      
      // Keep only last 1000 events
      if (analytics.events.length > 1000) {
        analytics.events = analytics.events.slice(-1000);
      }
      
      localStorage.setItem(ANALYTICS_KEY, JSON.stringify(analytics));
      
      // Also send to PostHog
      if (window.posthog) {
        posthog.capture(eventName, data);
      }
      
      // Also log to console for debugging
      console.log('[Analytics]', eventName, data);
    }
    
    // Handle lead form submission
    function handleLeadSubmit(e) {
      e.preventDefault();
      const email = document.getElementById('leadEmail').value;
      const variant = getVariant();
      
      // Store lead in Supabase
      const SUPABASE_URL = 'https://araqigsimkjsmwhnjesv.supabase.co';
      const SUPABASE_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImFyYXFpZ3NpbWtqc213aG5qZXN2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzEzNjQ1NjIsImV4cCI6MjA4Njk0MDU2Mn0.UPwIMO3U6qr6DcPvaLqs5sOGnS9WeftbkJa_JYEA4fw';
      
      fetch(SUPABASE_URL + '/rest/v1/leads', {
        method: 'POST',
        headers: {
          'apikey': SUPABASE_KEY,
          'Authorization': 'Bearer ' + SUPABASE_KEY,
          'Content-Type': 'application/json',
          'Prefer': 'return=minimal'
        },
        body: JSON.stringify({
          email: email,
          variant: variant,
          source: 'landing-page'
        })
      }).then(res => {
        if (res.ok) {
          // Also store locally as backup
          const analytics = JSON.parse(localStorage.getItem(ANALYTICS_KEY) || '{}');
          if (!analytics.leads) analytics.leads = [];
          analytics.leads.push({ email, variant, timestamp: new Date().toISOString() });
          localStorage.setItem(ANALYTICS_KEY, JSON.stringify(analytics));
          
          // Track conversion
          trackEvent('lead_captured', { variant, email: email.substring(0, 3) + '***' });
          
          // Show success
          alert('Thanks! Check your inbox for your ' + variant.replace('-', ' ') + '.');
          document.getElementById('leadForm').reset();
        } else {
          alert('Something went wrong. Please try again.');
        }
      }).catch(err => {
        console.error(err);
        alert('Something went wrong. Please try again.');
      });
    }
    
    // Track CTA clicks
    document.getElementById('heroCta')?.addEventListener('click', function(e) {
      e.preventDefault();
      trackEvent('hero_cta_click', { variant: getVariant() });
      // Scroll to lead magnet
      document.querySelector('.lead-magnet').scrollIntoView({ behavior: 'smooth' });
    });
    
    // Track page views
    trackEvent('page_view', { 
      path: window.location.pathname,
      variant: getVariant() 
    });
    
    // Initialize on load
    document.addEventListener('DOMContentLoaded', applyVariant);
    
    // Expose analytics for admin viewing
    window.examPulseAnalytics = {
      getStats: function() {
        const analytics = JSON.parse(localStorage.getItem(ANALYTICS_KEY) || '{}');
        const variant = getVariant();
        
        const events = analytics.events || [];
        const leads = analytics.leads || [];
        
        const impressions = events.filter(e => e.name === 'lead_magnet_impression').length;
        const conversions = events.filter(e => e.name === 'lead_captured').length;
        const ctaClicks = events.filter(e => e.name === 'hero_cta_click').length;
        
        // Count by variant
        const byVariant = {};
        leadMagnets.forEach(m => {
          const imp = events.filter(e => e.name === 'lead_magnet_impression' && e.data.variant === m.id).length;
          const conv = leads.filter(l => l.variant === m.id).length;
          byVariant[m.id] = { impressions: imp, conversions: conv, rate: imp > 0 ? ((conv/imp)*100).toFixed(1) + '%' : '0%' };
        });
        
        return {
          variant,
          totalImpressions: impressions,
          totalConversions: conversions,
          conversionRate: impressions > 0 ? ((conversions/impressions)*100).toFixed(1) + '%' : '0%',
          ctaClicks,
          byVariant,
          leads: leads.length
        };
      },
      
      // Admin: view in console
      consoleReport: function() {
        console.table(this.getStats().byVariant);
        console.log('Full stats:', this.getStats());
      }
    };
  </script>
</body>
</html>
